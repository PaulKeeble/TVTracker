@()

@spa {
  <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/config.css")">
  <script src="@routes.Assets.at("javascript/config.js")" type="text/javascript"></script>
} {
  <h1>Configuration</h1>
  
  <div id="users" ng-controller="Config.ConfigController">
  <dl>
    <dt>Users</dt>
    <dd>
	  <ul class="userList">
	    <li ng-repeat="user in users">
	      <button class="button-delete" ng-click="delete(user)">Delete</button>
	      
	      <span class="user">{{user.name}}</span>
	    </li>
	  </ul>
	  <form ng-submit="add()">
	    <input type="text" ng-model="inputUsername" size="30"
	       placeholder="user name"/>
	    <input class="button-submit" type="submit" value="add"/>
	    <span class="username-presence-{{contains(inputUsername)}}">User already exists</span>
	  </form>
    </dd>
    <dt>Directory</dt>
    <dd>
      <input type="text" ng-model="seriesDirectory.path" ng-change="changeSeriesDirectory()" size="50"
        placeholder="directory path"/><span class="directoryValid-{{seriesDirectory.valid}}">{{validText()}}</span>
    </dd>
    
    <a class="configValid-{{valid()}}" href="/">Next</a>
  </div>
}